#include EAStdlib.event
EventPointerTable(0x7, Ch01_Events_Table)

#define Spawn1X 3
#define Spawn1Y 15

#include "Enemies.txt"

Ch01_Events_Table:
POIN Ch01_TurnBasedEvents
POIN Ch01_CharacterBasedEvents
POIN Ch01_LocationBasedEvents
POIN Ch01_MiscBasedEvents
POIN Ch01_Dunno Ch01_Dunno Ch01_Dunno
POIN Ch01_Tutorial
POIN Ch01_TrapData Ch01_HMExtraTrapData
POIN Ch01_Units Ch01_Units
POIN $0 $0 $0 //these are for skirmish units (ally 1, ally 2, ally 3)
POIN $0 $0 $0 //(enemy 1, enemy 2, enemy 3)
POIN Ch01_BeginningScene Ch01_EndingScene

Ch01_TurnBasedEvents:
TurnEventNPC(0, Ch01_Spawn_Enemies, 1, 100)
END_MAIN

Ch01_CharacterBasedEvents:
END_MAIN

Ch01_LocationBasedEvents:
END_MAIN

Ch01_MiscBasedEvents:
END_MAIN

Ch01_Dunno:
END_MAIN

Ch01_Tutorial:
END_MAIN

Ch01_TrapData:
ENDTRAP
ALIGN 4

Ch01_HMExtraTrapData:
ENDTRAP
ALIGN 4

Ch01_Units:
UNIT

Ch01_Wagon:
UNIT Eirika Tent 0 Level(1,Ally,0) [5,3] 0 0 0 0 [0] NoAI
UNIT

Ch01_Target:
UNIT SittingDuck General 0 Level(1,NPC,1) [9,15] 0 0 0 0 [0] NeverMoveAI
UNIT Mook1 Thief 0 Level(20,Enemy,1) [3,14] 0 0 0 0 [IronSword] [0xA, 0, 0, 0]
UNIT Neimi Knight 0 Level(1,Ally,1) [8,15] 0 0 0 0 [Elixir] NoAI
UNIT

Ch01_BeginningScene:
LOAD1 0x1 Ch01_Wagon
ENUN
LOAD1 0x1 Ch01_Target
ENUN
FADU 0x10
SVAL 0x3 Initial_Gold_Amount
GIVEITEMTOMAIN 0x0
SVAL 1 Neimi
SET_HP 1
NoFade
ENDA

Ch01_EndingScene:
ENDA

Ch01_Spawn_Enemies:
ASMC Get_Enemies|1		//puts a pointer to reinforcements in slot 2
BEQ 5 2 0				//skip loading if slot 2 = slot 0 (0)
LOAD_SLOT2 0x1			//no idea what the argument is
ENUN
LABEL 5
NoFade
ENDA